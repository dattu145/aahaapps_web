# ðŸš€ AahaApps Simple Deployment Guide

Your deployment process is now fixed and simplified! 

## How it works
Instead of asking the cPanel server to build the app (which was failing/timing out), you now **build it on your computer** and send the finished files to the server.

## The New Workflow (Do this for every update)

### 1. Make Changes Locally
Edit your code as usual.

### 2. Build the Project
Before you commit, you **MUST** run the build command to update the `dist` folder.
```bash
cd client
npm run build
cd ..
```

### 3. Push to GitHub
```bash
git add .
git commit -m "Your update message"
git push
```
*Note: This will now upload the `client/dist` folder to GitHub.*

### 4. Deploy in cPanel
1. Go to **Git Version Control**.
2. Click **Update from Remote**.
3. Click **Deploy HEAD Commit**.

### What happens automatically?
The server will see the new files and:
1. Clear the old site.
2. Copy your new `client/dist` files to `server/public`.
3. Restart the Node.js server.

**No manual file copying is required!**

## ðŸ†˜ Troubleshooting / Fresh Install (If it gets stuck)
If you delete the folder and re-clone, or if the "Deploy HEAD Commit" button jams, follow these steps in the **cPanel Terminal**:

1. **Go to your project folder:**
   ```bash
   cd /home/mpqptrjm/aahaapps_main
   ```

2. **Install Server Dependencies:**
   ```bash
   cd server
   npm install --production
   ```

3. **Manually Copy Files & Create Folders:**
   ```bash
   mkdir -p public
   mkdir -p uploads
   cp -R ../client/dist/* ./public/
   chmod 755 uploads
   ```

4. **Restart the App:**
   ```bash
   mkdir -p tmp
   touch tmp/restart.txt
   ```

## ðŸ”‘ Environment Variables
Ensure these variables are set in **cPanel > Setup Node.js App > Environment Variables**:
- `DB_HOST`: localhost
- `DB_NAME`: (Your database name, e.g., mpqptrjm_website)
- `DB_USER`: (Your database user, e.g., mpqptrjm_website-user)
- `DB_PASSWORD`: (Your database password)
- `JWT_SECRET`: (Your secret key)

## ðŸ“„ Log Files (output.log / server.log)
- You can safely **delete** `output.log` and `server.log` from your local folder.
- They are automatically generated by the server.
- We have updated `.gitignore` to stop tracking them, so they won't clutter your GitHub anymore.
